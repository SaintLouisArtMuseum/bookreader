{"version":3,"file":"plugins/plugin.chapters.js","mappings":";qdAEA,EAAe,IAAI;;;;;;;;;;ECCnB,MAAMA,UAAkB,KACtB,iBAAWC,GACT,OAAO,IAAG;;;;;;;;;;;;;KAcZ,CAEA,MAAAC,GACE,OAAO,CACT,EAGFC,eAAeC,OAAO,cAAeJ,GAErC,gBCRsCK,MA6KHC,EACtBC,sxQAjMbC,EAAA,kBAAAC,CAAA,MAAAC,EAAAD,EAAA,GAAAE,EAAAC,OAAAC,UAAAC,EAAAH,EAAAI,eAAAC,EAAAJ,OAAAK,gBAAA,SAAAP,EAAAD,EAAAE,GAAAD,EAAAD,GAAAE,EAAAO,KAAA,EAAAC,EAAA,mBAAAC,OAAAA,OAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,eAAA,kBAAAC,EAAAN,EAAAO,aAAA,yBAAAtB,EAAAM,EAAAD,EAAAE,GAAA,OAAAC,OAAAK,eAAAP,EAAAD,EAAA,CAAAS,MAAAP,EAAAgB,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAnB,EAAAD,EAAA,KAAAL,EAAA,aAAAM,GAAAN,EAAA,SAAAM,EAAAD,EAAAE,GAAA,OAAAD,EAAAD,GAAAE,CAAA,WAAAmB,EAAApB,EAAAD,EAAAE,EAAAG,GAAA,IAAAK,EAAAV,GAAAA,EAAAI,qBAAAkB,EAAAtB,EAAAsB,EAAAV,EAAAT,OAAAoB,OAAAb,EAAAN,WAAAU,EAAA,IAAAU,EAAAnB,GAAA,WAAAE,EAAAK,EAAA,WAAAH,MAAAgB,EAAAxB,EAAAC,EAAAY,KAAAF,CAAA,UAAAc,EAAAzB,EAAAD,EAAAE,GAAA,WAAAyB,KAAA,SAAAC,IAAA3B,EAAA4B,KAAA7B,EAAAE,GAAA,OAAAD,GAAA,OAAA0B,KAAA,QAAAC,IAAA3B,EAAA,EAAAD,EAAAqB,KAAAA,EAAA,IAAAS,EAAA,iBAAAC,EAAA,iBAAAC,EAAA,YAAAC,EAAA,YAAAC,EAAA,YAAAZ,IAAA,UAAAa,IAAA,UAAAC,IAAA,KAAAC,EAAA,GAAA1C,EAAA0C,EAAAzB,GAAA,8BAAA0B,EAAAnC,OAAAoC,eAAAC,EAAAF,GAAAA,EAAAA,EAAAG,EAAA,MAAAD,GAAAA,IAAAtC,GAAAG,EAAAwB,KAAAW,EAAA5B,KAAAyB,EAAAG,GAAA,IAAAE,EAAAN,EAAAhC,UAAAkB,EAAAlB,UAAAD,OAAAoB,OAAAc,GAAA,SAAAM,EAAA1C,GAAA,0BAAA2C,SAAA,SAAA5C,GAAAL,EAAAM,EAAAD,GAAA,SAAAC,GAAA,YAAA4C,QAAA7C,EAAAC,EAAA,gBAAA6C,EAAA7C,EAAAD,GAAA,SAAA+C,EAAA7C,EAAAK,EAAAG,EAAAE,GAAA,IAAAE,EAAAY,EAAAzB,EAAAC,GAAAD,EAAAM,GAAA,aAAAO,EAAAa,KAAA,KAAAX,EAAAF,EAAAc,IAAAE,EAAAd,EAAAP,MAAA,OAAAqB,GAAA,UAAAkB,EAAAlB,IAAAzB,EAAAwB,KAAAC,EAAA,WAAA9B,EAAAiD,QAAAnB,EAAAoB,SAAAC,MAAA,SAAAlD,GAAA8C,EAAA,OAAA9C,EAAAS,EAAAE,EAAA,aAAAX,GAAA8C,EAAA,QAAA9C,EAAAS,EAAAE,EAAA,IAAAZ,EAAAiD,QAAAnB,GAAAqB,MAAA,SAAAlD,GAAAe,EAAAP,MAAAR,EAAAS,EAAAM,EAAA,aAAAf,GAAA,OAAA8C,EAAA,QAAA9C,EAAAS,EAAAE,EAAA,IAAAA,EAAAE,EAAAc,IAAA,KAAA1B,EAAAK,EAAA,gBAAAE,MAAA,SAAAR,EAAAI,GAAA,SAAA+C,IAAA,WAAApD,GAAA,SAAAA,EAAAE,GAAA6C,EAAA9C,EAAAI,EAAAL,EAAAE,EAAA,WAAAA,EAAAA,EAAAA,EAAAiD,KAAAC,EAAAA,GAAAA,GAAA,aAAA3B,EAAAzB,EAAAE,EAAAG,GAAA,IAAAE,EAAAuB,EAAA,gBAAApB,EAAAE,GAAA,GAAAL,IAAAyB,EAAA,MAAAqB,MAAA,mCAAA9C,IAAA0B,EAAA,cAAAvB,EAAA,MAAAE,EAAA,OAAAH,MAAAR,EAAAqD,MAAA,OAAAjD,EAAAkD,OAAA7C,EAAAL,EAAAuB,IAAAhB,IAAA,KAAAE,EAAAT,EAAAmD,SAAA,GAAA1C,EAAA,KAAAE,EAAAyC,EAAA3C,EAAAT,GAAA,GAAAW,EAAA,IAAAA,IAAAkB,EAAA,gBAAAlB,CAAA,cAAAX,EAAAkD,OAAAlD,EAAAqD,KAAArD,EAAAsD,MAAAtD,EAAAuB,SAAA,aAAAvB,EAAAkD,OAAA,IAAAhD,IAAAuB,EAAA,MAAAvB,EAAA0B,EAAA5B,EAAAuB,IAAAvB,EAAAuD,kBAAAvD,EAAAuB,IAAA,gBAAAvB,EAAAkD,QAAAlD,EAAAwD,OAAA,SAAAxD,EAAAuB,KAAArB,EAAAyB,EAAA,IAAAK,EAAAX,EAAA1B,EAAAE,EAAAG,GAAA,cAAAgC,EAAAV,KAAA,IAAApB,EAAAF,EAAAiD,KAAArB,EAAAF,EAAAM,EAAAT,MAAAM,EAAA,gBAAAzB,MAAA4B,EAAAT,IAAA0B,KAAAjD,EAAAiD,KAAA,WAAAjB,EAAAV,OAAApB,EAAA0B,EAAA5B,EAAAkD,OAAA,QAAAlD,EAAAuB,IAAAS,EAAAT,IAAA,YAAA6B,EAAAzD,EAAAE,GAAA,IAAAG,EAAAH,EAAAqD,OAAAhD,EAAAP,EAAAa,SAAAR,GAAA,GAAAE,IAAAN,EAAA,OAAAC,EAAAsD,SAAA,eAAAnD,GAAAL,EAAAa,SAAAiD,SAAA5D,EAAAqD,OAAA,SAAArD,EAAA0B,IAAA3B,EAAAwD,EAAAzD,EAAAE,GAAA,UAAAA,EAAAqD,SAAA,WAAAlD,IAAAH,EAAAqD,OAAA,QAAArD,EAAA0B,IAAA,IAAAmC,UAAA,oCAAA1D,EAAA,aAAA6B,EAAA,IAAAxB,EAAAgB,EAAAnB,EAAAP,EAAAa,SAAAX,EAAA0B,KAAA,aAAAlB,EAAAiB,KAAA,OAAAzB,EAAAqD,OAAA,QAAArD,EAAA0B,IAAAlB,EAAAkB,IAAA1B,EAAAsD,SAAA,KAAAtB,EAAA,IAAAtB,EAAAF,EAAAkB,IAAA,OAAAhB,EAAAA,EAAA0C,MAAApD,EAAAF,EAAAgE,YAAApD,EAAAH,MAAAP,EAAA+D,KAAAjE,EAAAkE,QAAA,WAAAhE,EAAAqD,SAAArD,EAAAqD,OAAA,OAAArD,EAAA0B,IAAA3B,GAAAC,EAAAsD,SAAA,KAAAtB,GAAAtB,GAAAV,EAAAqD,OAAA,QAAArD,EAAA0B,IAAA,IAAAmC,UAAA,oCAAA7D,EAAAsD,SAAA,KAAAtB,EAAA,UAAAiC,EAAAlE,GAAA,IAAAD,EAAA,CAAAoE,OAAAnE,EAAA,SAAAA,IAAAD,EAAAqE,SAAApE,EAAA,SAAAA,IAAAD,EAAAsE,WAAArE,EAAA,GAAAD,EAAAuE,SAAAtE,EAAA,SAAAuE,WAAAC,KAAAzE,EAAA,UAAA0E,EAAAzE,GAAA,IAAAD,EAAAC,EAAA0E,YAAA,GAAA3E,EAAA2B,KAAA,gBAAA3B,EAAA4B,IAAA3B,EAAA0E,WAAA3E,CAAA,UAAAwB,EAAAvB,GAAA,KAAAuE,WAAA,EAAAJ,OAAA,SAAAnE,EAAA2C,QAAAuB,EAAA,WAAAS,OAAA,YAAAnC,EAAAzC,GAAA,GAAAA,GAAA,KAAAA,EAAA,KAAAE,EAAAF,EAAAY,GAAA,GAAAV,EAAA,OAAAA,EAAA2B,KAAA7B,GAAA,sBAAAA,EAAAiE,KAAA,OAAAjE,EAAA,IAAA6E,MAAA7E,EAAA8E,QAAA,KAAAvE,GAAA,EAAAG,EAAA,SAAAuD,IAAA,OAAA1D,EAAAP,EAAA8E,QAAA,GAAAzE,EAAAwB,KAAA7B,EAAAO,GAAA,OAAA0D,EAAAxD,MAAAT,EAAAO,GAAA0D,EAAAX,MAAA,EAAAW,EAAA,OAAAA,EAAAxD,MAAAR,EAAAgE,EAAAX,MAAA,EAAAW,CAAA,SAAAvD,EAAAuD,KAAAvD,CAAA,YAAAqD,UAAAf,EAAAhD,GAAA,2BAAAmC,EAAA/B,UAAAgC,EAAA7B,EAAAmC,EAAA,eAAAjC,MAAA2B,EAAAjB,cAAA,IAAAZ,EAAA6B,EAAA,eAAA3B,MAAA0B,EAAAhB,cAAA,IAAAgB,EAAA4C,YAAApF,EAAAyC,EAAApB,EAAA,qBAAAhB,EAAAgF,oBAAA,SAAA/E,GAAA,IAAAD,EAAA,mBAAAC,GAAAA,EAAAgF,YAAA,QAAAjF,IAAAA,IAAAmC,GAAA,uBAAAnC,EAAA+E,aAAA/E,EAAAkF,MAAA,EAAAlF,EAAAmF,KAAA,SAAAlF,GAAA,OAAAE,OAAAiF,eAAAjF,OAAAiF,eAAAnF,EAAAmC,IAAAnC,EAAAoF,UAAAjD,EAAAzC,EAAAM,EAAAe,EAAA,sBAAAf,EAAAG,UAAAD,OAAAoB,OAAAmB,GAAAzC,CAAA,EAAAD,EAAAsF,MAAA,SAAArF,GAAA,OAAAiD,QAAAjD,EAAA,EAAA0C,EAAAG,EAAA1C,WAAAT,EAAAmD,EAAA1C,UAAAU,GAAA,0BAAAd,EAAA8C,cAAAA,EAAA9C,EAAAuF,MAAA,SAAAtF,EAAAC,EAAAG,EAAAE,EAAAG,QAAA,IAAAA,IAAAA,EAAA8E,SAAA,IAAA5E,EAAA,IAAAkC,EAAAzB,EAAApB,EAAAC,EAAAG,EAAAE,GAAAG,GAAA,OAAAV,EAAAgF,oBAAA9E,GAAAU,EAAAA,EAAAqD,OAAAd,MAAA,SAAAlD,GAAA,OAAAA,EAAAqD,KAAArD,EAAAQ,MAAAG,EAAAqD,MAAA,KAAAtB,EAAAD,GAAA/C,EAAA+C,EAAA1B,EAAA,aAAArB,EAAA+C,EAAA9B,GAAA,0BAAAjB,EAAA+C,EAAA,qDAAA1C,EAAAyF,KAAA,SAAAxF,GAAA,IAAAD,EAAAG,OAAAF,GAAAC,EAAA,WAAAG,KAAAL,EAAAE,EAAAuE,KAAApE,GAAA,OAAAH,EAAAwF,UAAA,SAAAzB,IAAA,KAAA/D,EAAA4E,QAAA,KAAA7E,EAAAC,EAAAyF,MAAA,GAAA1F,KAAAD,EAAA,OAAAiE,EAAAxD,MAAAR,EAAAgE,EAAAX,MAAA,EAAAW,CAAA,QAAAA,EAAAX,MAAA,EAAAW,CAAA,GAAAjE,EAAAyC,OAAAA,EAAAjB,EAAApB,UAAA,CAAA6E,YAAAzD,EAAAoD,MAAA,SAAA5E,GAAA,QAAA4F,KAAA,OAAA3B,KAAA,OAAAP,KAAA,KAAAC,MAAA1D,EAAA,KAAAqD,MAAA,OAAAE,SAAA,UAAAD,OAAA,YAAA3B,IAAA3B,EAAA,KAAAuE,WAAA5B,QAAA8B,IAAA1E,EAAA,QAAAE,KAAA,WAAAA,EAAA2F,OAAA,IAAAxF,EAAAwB,KAAA,KAAA3B,KAAA2E,OAAA3E,EAAA4F,MAAA,WAAA5F,GAAAD,EAAA,EAAA8F,KAAA,gBAAAzC,MAAA,MAAArD,EAAA,KAAAuE,WAAA,GAAAG,WAAA,aAAA1E,EAAA0B,KAAA,MAAA1B,EAAA2B,IAAA,YAAAoE,IAAA,EAAApC,kBAAA,SAAA5D,GAAA,QAAAsD,KAAA,MAAAtD,EAAA,IAAAE,EAAA,cAAA+F,EAAA5F,EAAAE,GAAA,OAAAK,EAAAe,KAAA,QAAAf,EAAAgB,IAAA5B,EAAAE,EAAA+D,KAAA5D,EAAAE,IAAAL,EAAAqD,OAAA,OAAArD,EAAA0B,IAAA3B,KAAAM,CAAA,SAAAA,EAAA,KAAAiE,WAAAM,OAAA,EAAAvE,GAAA,IAAAA,EAAA,KAAAG,EAAA,KAAA8D,WAAAjE,GAAAK,EAAAF,EAAAiE,WAAA,YAAAjE,EAAA0D,OAAA,OAAA6B,EAAA,UAAAvF,EAAA0D,QAAA,KAAAwB,KAAA,KAAA9E,EAAAT,EAAAwB,KAAAnB,EAAA,YAAAM,EAAAX,EAAAwB,KAAAnB,EAAA,iBAAAI,GAAAE,EAAA,SAAA4E,KAAAlF,EAAA2D,SAAA,OAAA4B,EAAAvF,EAAA2D,UAAA,WAAAuB,KAAAlF,EAAA4D,WAAA,OAAA2B,EAAAvF,EAAA4D,WAAA,SAAAxD,GAAA,QAAA8E,KAAAlF,EAAA2D,SAAA,OAAA4B,EAAAvF,EAAA2D,UAAA,YAAArD,EAAA,MAAAqC,MAAA,kDAAAuC,KAAAlF,EAAA4D,WAAA,OAAA2B,EAAAvF,EAAA4D,WAAA,KAAAT,OAAA,SAAA5D,EAAAD,GAAA,QAAAE,EAAA,KAAAsE,WAAAM,OAAA,EAAA5E,GAAA,IAAAA,EAAA,KAAAK,EAAA,KAAAiE,WAAAtE,GAAA,GAAAK,EAAA6D,QAAA,KAAAwB,MAAAvF,EAAAwB,KAAAtB,EAAA,oBAAAqF,KAAArF,EAAA+D,WAAA,KAAA5D,EAAAH,EAAA,OAAAG,IAAA,UAAAT,GAAA,aAAAA,IAAAS,EAAA0D,QAAApE,GAAAA,GAAAU,EAAA4D,aAAA5D,EAAA,UAAAE,EAAAF,EAAAA,EAAAiE,WAAA,UAAA/D,EAAAe,KAAA1B,EAAAW,EAAAgB,IAAA5B,EAAAU,GAAA,KAAA6C,OAAA,YAAAU,KAAAvD,EAAA4D,WAAApC,GAAA,KAAAgE,SAAAtF,EAAA,EAAAsF,SAAA,SAAAjG,EAAAD,GAAA,aAAAC,EAAA0B,KAAA,MAAA1B,EAAA2B,IAAA,gBAAA3B,EAAA0B,MAAA,aAAA1B,EAAA0B,KAAA,KAAAsC,KAAAhE,EAAA2B,IAAA,WAAA3B,EAAA0B,MAAA,KAAAqE,KAAA,KAAApE,IAAA3B,EAAA2B,IAAA,KAAA2B,OAAA,cAAAU,KAAA,kBAAAhE,EAAA0B,MAAA3B,IAAA,KAAAiE,KAAAjE,GAAAkC,CAAA,EAAAiE,OAAA,SAAAlG,GAAA,QAAAD,EAAA,KAAAwE,WAAAM,OAAA,EAAA9E,GAAA,IAAAA,EAAA,KAAAE,EAAA,KAAAsE,WAAAxE,GAAA,GAAAE,EAAAoE,aAAArE,EAAA,YAAAiG,SAAAhG,EAAAyE,WAAAzE,EAAAqE,UAAAG,EAAAxE,GAAAgC,CAAA,GAAAkE,MAAA,SAAAnG,GAAA,QAAAD,EAAA,KAAAwE,WAAAM,OAAA,EAAA9E,GAAA,IAAAA,EAAA,KAAAE,EAAA,KAAAsE,WAAAxE,GAAA,GAAAE,EAAAkE,SAAAnE,EAAA,KAAAI,EAAAH,EAAAyE,WAAA,aAAAtE,EAAAsB,KAAA,KAAApB,EAAAF,EAAAuB,IAAA8C,EAAAxE,EAAA,QAAAK,CAAA,QAAA8C,MAAA,0BAAAgD,cAAA,SAAArG,EAAAE,EAAAG,GAAA,YAAAmD,SAAA,CAAA3C,SAAA4B,EAAAzC,GAAAgE,WAAA9D,EAAAgE,QAAA7D,GAAA,cAAAkD,SAAA,KAAA3B,IAAA3B,GAAAiC,CAAA,GAAAlC,CAAA,UAAAsG,EAAAjG,EAAAJ,EAAAD,EAAAE,EAAAK,EAAAK,EAAAE,GAAA,QAAAJ,EAAAL,EAAAO,GAAAE,GAAAE,EAAAN,EAAAD,KAAA,OAAAJ,GAAA,YAAAL,EAAAK,EAAA,CAAAK,EAAA4C,KAAArD,EAAAe,GAAAwE,QAAAvC,QAAAjC,GAAAmC,KAAAjD,EAAAK,EAAA,UAAAgG,EAAAlG,GAAA,sBAAAJ,EAAA,KAAAD,EAAAwG,UAAA,WAAAhB,SAAA,SAAAtF,EAAAK,GAAA,IAAAK,EAAAP,EAAAoG,MAAAxG,EAAAD,GAAA,SAAA0G,EAAArG,GAAAiG,EAAA1F,EAAAV,EAAAK,EAAAmG,EAAAC,EAAA,OAAAtG,EAAA,UAAAsG,EAAAtG,GAAAiG,EAAA1F,EAAAV,EAAAK,EAAAmG,EAAAC,EAAA,QAAAtG,EAAA,CAAAqG,OAAA,OAYAE,EAAOC,OAAOC,WAAWC,eAAgB,CACvCC,OAAQ,0BACRC,sBAAsB,EACtBC,OAAQ,KAIVJ,WAAW1G,UAAU+G,MAAiBvH,EAOnCkH,WAAW1G,UAAU+G,KANf,WACLvH,EAAOiC,KAAKuF,MACRA,KAAKC,QAAQJ,sBAAoC,UAAZG,KAAKE,IAC5CF,KAAKG,cAET,GAGFT,WAAW1G,UAAUmH,aAAYhB,EAAAxG,IAAAoF,MAAG,SAAAqC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,YAAA9H,IAAAsB,MAAA,SAAAyG,GAAA,cAAAA,EAAAlC,KAAAkC,EAAA7D,MAAA,OAIlC,GAHIyD,EAAqB,KAIS,QADlCD,EACIL,KAAKC,QAAQU,yBAAiB,IAAAN,IAA9BA,EAAgC3C,OAAM,CAAAgD,EAAA7D,KAAA,QACxCyD,EAAqBN,KAAKC,QAAQU,kBAAkBD,EAAA7D,KAAA,sBAAA6D,EAAA7D,KAAA,EAE5BmD,KAAKY,qBAAqBZ,KAAKC,QAAQL,OAAQI,KAAKC,QAAQH,QAAO,OACvFU,OADEA,EAASE,EAAApE,OACiB,QAAnBiE,EAATC,EAAWG,yBAAiB,IAAAJ,GAA5BA,EAA8B7C,SAChC4C,EAAqBE,EAAUG,mBAChC,OAGCL,IACFN,KAAKa,YAAcP,EAChBQ,KAAI,SAAAC,GAAW,OAAKhI,OAAOiI,OAAO,CAAC,EAAGD,EAAa,CAClDE,UAC8B,iBAArBF,EAAYG,KAAoBT,EAAKU,KAAKC,eAAeL,EAAYG,MAC1EH,EAAYM,QAAUZ,EAAKU,KAAKG,aAAaP,EAAYM,cACvDE,GAEN,IACJvB,KAAKwB,gBAAgBxB,KAAKa,aAC1Bb,KAAKyB,KAAK/B,WAAWgC,WAAWC,aAAa,kBAAMlB,EAAKmB,wBAAwB,KACjF,yBAAAlB,EAAA/B,OAAA,GAAAyB,EAAA,UAMHV,WAAW1G,UAAUwI,gBAAkB,WAAW,IAAAK,EAAA,KAC1CC,EAAqC9B,KAAK8B,MAChDA,EAAMC,cAAwB,SAAI,CAChCC,GAAI,WACJC,MAAMC,EAAAA,EAAAA,IAAIC,IAAAA,EAAAC,EAAA,+FACVC,MAAO,oBACPC,WAAWJ,EAAAA,EAAAA,IAAIK,IAAAA,EAAAH,EAAA,yGACApC,KAAKa,aACH,SAACI,GAChBY,EAAKD,uBAAuBX,GAC5BY,EAAKW,YAAYvB,EACnB,IACgB,SAACrI,GACfiJ,EAAKY,eAAiB7J,EAAE8J,OACxBb,EAAKD,wBACP,KAGFE,EAAMa,gBAAgB,YACtBb,EAAMc,qBACN5C,KAAKa,YAAYrF,SAAQ,SAACqH,EAAUvJ,GAAC,OAAKuI,EAAKiB,sBAAsBD,EAAUvJ,EAAE,GACnF,EAwBAoG,WAAW1G,UAAU8J,sBAAwB,SAASD,EAAUE,GAAY,IAAAC,EAAA,KAC1E,GAA0BzB,MAAtBsB,EAAS5B,UAAb,CAGA,IAAMgC,EAAa,CAACJ,EAASR,MAAOQ,EAASK,OAC1CC,QAAO,SAAAC,GAAC,OAAIA,CAAC,IACbC,KAAK,MAAQ,WAAJC,OAAeP,EAAa,GAElCQ,EAAiB7D,WAAW8D,KAAKC,cAAcZ,EAAS5B,UAAWjB,KAAKmB,KAAKuC,cAAgB,GACnGC,EAAE,eACCC,OACCD,EAAE,WACCE,KAAKZ,GACLW,OACCD,EAAE,iCACCE,KAAK7D,KAAKmB,KAAK2C,YAAYjB,EAAS5B,cAG5C8C,SAAS,aACTC,IAAI,CAAEC,KAAMV,IACZW,SAASlE,KAAK2D,EAAE,eAChBQ,GAAG,cAAc,SAAAC,GAEhB,IAAMC,EAASD,EAAME,cACfC,EAAUF,EAAOG,cAAc,OAC/BC,EAAgBF,EAAQG,wBACxBC,EAAeN,EAAOK,wBACtBE,EAAkE,EAAlDC,SAASC,iBAAiBP,GAASQ,aACrDN,EAAcrB,EAAIwB,EAAgB,GACpCL,EAAQS,MAAMC,YAAY,YAAa,eAAF3B,OAAiBqB,EAAaV,KAAOW,EAAa,QAEzF5B,EAAKW,EAAE,wBAAwBuB,YAAY,SAC3CvB,EAAES,EAAM1B,QAAQqB,SAAS,QAC3B,IACCI,GAAG,cAAc,SAAAC,GAAK,OAAIT,EAAES,EAAM1B,QAAQwC,YAAY,QAAQ,IAC9Df,GAAG,SAAS,WACXnB,EAAKpB,uBAAuBiB,EAAS5B,WACrC+B,EAAKR,YAAYK,EAAS5B,UAC5B,IAEFjB,KAAK2D,EAAE,yBAAyBwB,MAAK,SAAC7L,EAAG8L,GACvC,IAAMC,EAAM1B,EAAEyB,GACdC,EACGlB,GAAG,cAAc,kBAAMkB,EAAItB,SAAS,QAAQ,IAC5CI,GAAG,cAAc,kBAAMkB,EAAIH,YAAY,QAAQ,GACpD,GA5C2C,CA6C7C,EASAxF,WAAW1G,UAAU4H,qBAAoB,eAAA0E,EAAAnG,EAAAxG,IAAAoF,MAAG,SAAAwH,EAAgB3F,EAAQ4F,GAAK,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAjN,IAAAsB,MAAA,SAAA4L,GAAA,cAAAA,EAAArH,KAAAqH,EAAAhJ,MAAA,OAGrB,OAD5C6I,EAAU,GAAHpC,OAAM1D,EAAM,qCACnB+F,EAAmB,GAAHrC,OAAMoC,EAAO,WAAApC,OAAUkC,GAAKK,EAAAhJ,KAAA,EAEjC8G,EAAEmC,KAAK,CAAEC,IAAKJ,EAAkBK,SAAU,UAAU,OAA7D,IAAJJ,EAAIC,EAAAvJ,OAEMsJ,EAAKlI,OAAM,CAAAmI,EAAAhJ,KAAA,eAAAgJ,EAAAhJ,KAAA,EAEV8G,EAAEmC,KAAK,CAAEC,IAAK,GAAFzC,OAAKoC,EAAO,uBAAApC,OAAsBkC,GAASQ,SAAU,UAAU,OAAxFJ,EAAIC,EAAAvJ,KAAA,cAAAuJ,EAAApJ,OAAA,SAGK,QAHLgJ,EAGCG,SAAI,IAAAH,OAAA,EAAJA,EAAO,IAAE,yBAAAI,EAAAlH,OAAA,GAAA4G,EAAA,KACjB,gBAAAU,EAAAC,GAAA,OAAAZ,EAAAjG,MAAA,KAAAD,UAAA,EAbwC,GAoBzCM,WAAW1G,UAAU4I,uBAAyB,WAE5C,MADAuE,EAAQ/G,UAAA1B,OAAA,QAAA6D,IAAAnC,UAAA,GAAAA,UAAA,GAAiB,GAAbY,KAAKoG,KAAYC,KAAKC,IAAGjH,MAARgH,oDAAYrG,KAAKuG,0MAAoBvG,KAAKwG,WAEjEC,EAAoBzG,KAAKa,YAAYsC,QAAO,SAACiC,GAAE,OAAqB7D,MAAhB6D,EAAGnE,SAAsB,IAAE3C,UAC/EoI,EAAcD,EAElBA,EAAkBE,WAAU,SAACC,GAAO,OAAKA,EAAQ3F,WAAakF,CAAQ,KAEpEnG,KAAKyC,iBACPzC,KAAKyC,eAAeoE,eAAiBH,EAEzC,IAG4B,EAD3BI,EAAAA,EAAAA,IAAc,wBACsBC,EAAAA,SADFtO,0DACtBC,EAAe,SAAAsO,GAe1B,SAAAtO,EAAYuO,GAAU,IAAAC,EAEK,mGAFLC,CAAA,KAAAzO,GACpBwO,EAAAE,EAAA,KAAA1O,GAAQD,EAAAyO,GACRA,EAAKD,SAAWA,EAASC,CAC3B,CAUA,4RAAAG,CAAA3O,EAAAsO,KAAAtO,8FAAA,CA5B0B,MA4B1B,CAAA4O,EA5BW5O,EAAewC,EAAA,EAAAqM,KAAA,QAAAC,WAAA,EAEzBC,EAAAA,EAAAA,IAAS,CAAElN,KAAMmN,SAAQC,IAAA,WAAAtO,MAAA,iBACf,EAAE,IAAAkO,KAAA,QAAAC,WAAA,EAGZC,EAAAA,EAAAA,IAAS,CAAElN,KAAMxB,UAAS4O,IAAA,iBAAAtO,MAAA,iBACV,CAAC,CAAC,IAAAkO,KAAA,QAAAI,IAAA,aAAAtO,MAAA,kBAGN,WAAO,CAAC,IAAAkO,KAAA,SAAAI,IAAA,SAAAtO,MAUrB,WAAS,IAAAuO,EAAA,KACP,OAAO1F,EAAAA,EAAAA,IAAI2F,IAAAA,EAAAzF,EAAA,6CAEPpC,KAAKiH,SAASnG,KAAI,SAAA+B,GAAQ,OAAI+E,EAAKE,eAAejF,EAAS,IAGjE,GAAC,CAAA0E,KAAA,SAAAI,IAAA,iBAAAtO,MAKD,SAAewJ,GAAU,ICnNElI,EDmNFoN,EAAA,KACjBC,EAAe,CAACnF,EAASR,MAAOQ,EAASK,OAC5CC,QAAO,SAAAC,GAAC,OAAIA,CAAC,IACbC,KAAK,KACF4E,EAAkC1G,MAAtBsB,EAAS5B,UAE3B,OAAOiB,EAAAA,EAAAA,IAAIgG,IAAAA,EAAA9F,EAAA,qNAIL6F,EAAY,YAAc,GAC1BpF,GAAY7C,KAAK6G,eAAiB,UAAY,IAEzCsB,EAAAA,EAAAA,GAAS,CAACC,WAAmC,IAAtBvF,EAASwF,MAAQ,GAAU,OChOvB,OAAb1N,EDiOgBsN,EAAY,8BAA2B1G,GCjO1C5G,EAAS9B,EAAAA,IDkOnC,kBAAMkP,EAAKO,WAAWzF,EAAS5B,UAAU,GAEjD+G,EACAnF,EAASxB,SAAUa,EAAAA,EAAAA,IAAIqG,IAAAA,EAAAnG,EAAA,uFAEeS,EAASxB,SAC7CmH,EAAAA,GAER,GAAC,CAAAjB,KAAA,SAAAI,IAAA,oBAAAtO,MAED,WACEoP,EAAAC,EAzDShQ,EAAeM,WAAA,0BAAAyB,KAAA,MA0DxBuF,KAAK2I,cAAc,IAAIC,YAAY,aACrC,GAAC,CAAArB,KAAA,SAAAI,IAAA,UAAAtO,MAED,SAAQwP,GACuC,IAAAC,EAAzCD,EAAkBE,IAAI,oBACmB,QAA3CD,EAAA9I,KAAKgJ,WAAWxE,cAAc,qBAAa,IAAAsE,GAA3CA,EAA6CG,eAAe,CAC1DC,MAAO,UACPC,SAAU,WAGhB,GAAC,CAAA5B,KAAA,MAAA6B,QAAA,EAAAzB,IAAA,SAAAtO,MAED,WACE,OAAO2K,EAAAA,EAAAA,IAAGqF,IAAAA,EAAAjH,EAAA,inBA8BZ","sources":["webpack://@internetarchive/bookreader/./node_modules/@internetarchive/icon-toc/index.js","webpack://@internetarchive/bookreader/./node_modules/@internetarchive/icon-toc/icon-toc.js","webpack://@internetarchive/bookreader/./src/plugins/plugin.chapters.js","webpack://@internetarchive/bookreader/../src/directives/if-defined.ts"],"sourcesContent":["import { html } from 'lit';\r\n\r\nexport default html`\r\n<svg\r\n  viewBox=\"0 0 24 24\"\r\n  xmlns=\"http://www.w3.org/2000/svg\"\r\n  aria-labelledby=\"tocTitleID tocDescID\"\r\n>\r\n  <title id=\"tocTitleID\">Table of contents icon</title>\r\n  <desc id=\"tocDescID\">An illustration of three text list items</desc>\r\n  <g class=\"fill-color\" fill-rule=\"evenodd\"><rect height=\"3\" rx=\"1.5\" width=\"18\" x=\"6\"/><rect height=\"3\" rx=\"1.5\" width=\"18\" x=\"6\" y=\"21\"/><rect height=\"3\" rx=\"1.5\" width=\"18\" x=\"6\" y=\"14\"/><rect height=\"3\" rx=\"1.5\" width=\"18\" x=\"6\" y=\"7\"/><rect height=\"3\" rx=\"1.5\" width=\"4\"/><rect height=\"3\" rx=\"1.5\" width=\"4\" y=\"21\"/><rect height=\"3\" rx=\"1.5\" width=\"4\" y=\"14\"/><rect height=\"3\" rx=\"1.5\" width=\"4\" y=\"7\"/></g>\r\n</svg>\r\n`;\r\n","import icon from './index.js';\r\nimport { css, LitElement } from 'lit';\r\n\r\nclass IAIconToc extends LitElement {\r\n  static get styles() {\r\n    return css`\r\n      :host {\r\n        width: var(--iconWidth, 'auto');\r\n        height: var(--iconHeight, 'auto');\r\n      }\r\n\r\n      .fill-color {\r\n        fill: var(--iconFillColor);\r\n      }\r\n\r\n      .stroke-color {\r\n        stroke: var(--iconStrokeColor);\r\n      }\r\n    `;\r\n  }\r\n\r\n  render() {\r\n    return icon;\r\n  }\r\n}\r\n\r\ncustomElements.define('ia-icon-toc', IAIconToc);\r\n\r\nexport default IAIconToc;\r\n","/* global BookReader */\r\nimport { css, html, LitElement, nothing } from \"lit\";\r\nimport { customElement, property } from 'lit/decorators.js';\r\nimport { ifDefined } from 'lit/directives/if-defined.js';\r\nimport { styleMap } from 'lit/directives/style-map.js';\r\nimport '@internetarchive/icon-toc/icon-toc';\r\n/** @typedef {import('@/src/BookNavigator/book-navigator.js').BookNavigator} BookNavigator */\r\n\r\n/**\r\n * Plugin for chapter markers in BookReader. Fetches from openlibrary.org\r\n * Could be forked, or extended to alter behavior\r\n */\r\n\r\njQuery.extend(BookReader.defaultOptions, {\r\n  olHost: 'https://openlibrary.org',\r\n  enableChaptersPlugin: true,\r\n  bookId: '',\r\n});\r\n\r\n/** @override Extend to call Open Library for TOC */\r\nBookReader.prototype.init = (function(super_) {\r\n  return function() {\r\n    super_.call(this);\r\n    if (this.options.enableChaptersPlugin && this.ui !== 'embed') {\r\n      this._chapterInit();\r\n    }\r\n  };\r\n})(BookReader.prototype.init);\r\n\r\nBookReader.prototype._chapterInit = async function() {\r\n  let rawTableOfContents = null;\r\n  // Prefer IA TOC for now, until we update the second half to check for\r\n  // `openlibrary_edition` on the IA metadata instead of making a bunch of\r\n  // requests to OL.\r\n  if (this.options.table_of_contents?.length) {\r\n    rawTableOfContents = this.options.table_of_contents;\r\n  } else {\r\n    const olEdition = await this.getOpenLibraryRecord(this.options.olHost, this.options.bookId);\r\n    if (olEdition?.table_of_contents?.length) {\r\n      rawTableOfContents = olEdition.table_of_contents;\r\n    }\r\n  }\r\n\r\n  if (rawTableOfContents) {\r\n    this._tocEntries = rawTableOfContents\r\n      .map(rawTOCEntry => (Object.assign({}, rawTOCEntry, {\r\n        pageIndex: (\r\n          typeof(rawTOCEntry.leaf) == 'number' ? this.book.leafNumToIndex(rawTOCEntry.leaf) :\r\n            rawTOCEntry.pagenum ? this.book.getPageIndex(rawTOCEntry.pagenum) :\r\n              undefined\r\n        ),\r\n      })));\r\n    this._chaptersRender(this._tocEntries);\r\n    this.bind(BookReader.eventNames.pageChanged, () => this._chaptersUpdateCurrent());\r\n  }\r\n};\r\n\r\n/**\r\n * Update the table of contents based on array of TOC entries.\r\n */\r\nBookReader.prototype._chaptersRender = function() {\r\n  const shell = /** @type {BookNavigator} */(this.shell);\r\n  shell.menuProviders['chapters'] = {\r\n    id: 'chapters',\r\n    icon: html`<ia-icon-toc style=\"width: var(--iconWidth); height: var(--iconHeight);\"></ia-icon-toc>`,\r\n    label: 'Table of Contents',\r\n    component: html`<br-chapters-panel\r\n      .contents=\"${this._tocEntries}\"\r\n      .jumpToPage=\"${(pageIndex) => {\r\n      this._chaptersUpdateCurrent(pageIndex);\r\n      this.jumpToIndex(pageIndex);\r\n    }}\"\r\n      @connected=\"${(e) => {\r\n      this._chaptersPanel = e.target;\r\n      this._chaptersUpdateCurrent();\r\n    }}\"\r\n    />`,\r\n  };\r\n  shell.addMenuShortcut('chapters');\r\n  shell.updateMenuContents();\r\n  this._tocEntries.forEach((tocEntry, i) => this._chaptersRenderMarker(tocEntry, i));\r\n};\r\n\r\n/**\r\n * @typedef {Object} TocEntry\r\n * Table of contents entry as defined by Open Library, with some extra values for internal use\r\n * @property {number} [level]\r\n * @property {string} [label]\r\n * @property {string} [title]\r\n * @property {PageString} [pagenum]\r\n * @property {LeafNum} [leaf]\r\n * @property {number} [pageIndex] - Added\r\n *\r\n * @example {\r\n *   \"pagenum\": \"17\",\r\n *   \"level\": 1,\r\n *   \"label\": \"CHAPTER I\",\r\n *   \"title\": \"THE COUNTRY AND THE MISSION\"\r\n * }\r\n */\r\n\r\n/**\r\n * @param {TocEntry} tocEntry\r\n * @param {number} entryIndex\r\n */\r\nBookReader.prototype._chaptersRenderMarker = function(tocEntry, entryIndex) {\r\n  if (tocEntry.pageIndex == undefined) return;\r\n\r\n  //creates a string with non-void tocEntry.label and tocEntry.title\r\n  const chapterStr = [tocEntry.label, tocEntry.title]\r\n    .filter(x => x)\r\n    .join(' ') || `Chapter ${entryIndex + 1}`;\r\n\r\n  const percentThrough = BookReader.util.cssPercentage(tocEntry.pageIndex, this.book.getNumLeafs() - 1);\r\n  $(`<div></div>`)\r\n    .append(\r\n      $('<div />')\r\n        .text(chapterStr)\r\n        .append(\r\n          $('<div class=\"BRchapterPage\" />')\r\n            .text(this.book.getPageName(tocEntry.pageIndex))\r\n        )\r\n    )\r\n    .addClass('BRchapter')\r\n    .css({ left: percentThrough })\r\n    .appendTo(this.$('.BRnavline'))\r\n    .on(\"mouseenter\", event => {\r\n      // remove hover effect from other markers then turn on just for this\r\n      const marker = event.currentTarget;\r\n      const tooltip = marker.querySelector('div');\r\n      const tooltipOffset = tooltip.getBoundingClientRect();\r\n      const targetOffset = marker.getBoundingClientRect();\r\n      const boxSizeAdjust = parseInt(getComputedStyle(tooltip).paddingLeft) * 2;\r\n      if (tooltipOffset.x - boxSizeAdjust < 0) {\r\n        tooltip.style.setProperty('transform', `translateX(-${targetOffset.left - boxSizeAdjust}px)`);\r\n      }\r\n      this.$('.BRsearch,.BRchapter').removeClass('front');\r\n      $(event.target).addClass('front');\r\n    })\r\n    .on(\"mouseleave\", event => $(event.target).removeClass('front'))\r\n    .on('click', () => {\r\n      this._chaptersUpdateCurrent(tocEntry.pageIndex);\r\n      this.jumpToIndex(tocEntry.pageIndex);\r\n    });\r\n\r\n  this.$('.BRchapter, .BRsearch').each((i, el) => {\r\n    const $el = $(el);\r\n    $el\r\n      .on(\"mouseenter\", () => $el.addClass('front'))\r\n      .on(\"mouseleave\", () => $el.removeClass('front'));\r\n  });\r\n};\r\n\r\n/**\r\n * This makes a call to OL API and calls the given callback function with the\r\n * response from the API.\r\n *\r\n * @param {string} olHost\r\n * @param {string} ocaid\r\n */\r\nBookReader.prototype.getOpenLibraryRecord = async function (olHost, ocaid) {\r\n  // Try looking up by ocaid first, then by source_record\r\n  const baseURL = `${olHost}/query.json?type=/type/edition&*=`;\r\n  const fetchUrlByBookId = `${baseURL}&ocaid=${ocaid}`;\r\n\r\n  let data = await $.ajax({ url: fetchUrlByBookId, dataType: 'jsonp' });\r\n\r\n  if (!data || !data.length) {\r\n    // try sourceid\r\n    data = await $.ajax({ url: `${baseURL}&source_records=ia:${ocaid}`, dataType: 'jsonp' });\r\n  }\r\n\r\n  return data?.[0];\r\n};\r\n\r\n/**\r\n * @private\r\n * Highlights the current chapter based on current page\r\n * @param {PageIndex} curIndex\r\n */\r\nBookReader.prototype._chaptersUpdateCurrent = function(\r\n  curIndex = (this.mode == 2 ? Math.max(...this.displayedIndices) : this.firstIndex)\r\n) {\r\n  const tocEntriesIndexed = this._tocEntries.filter((el) => el.pageIndex != undefined).reverse();\r\n  const currChapter = tocEntriesIndexed[\r\n    // subtract one so that 2up shows the right label\r\n    tocEntriesIndexed.findIndex((chapter) => chapter.pageIndex <= curIndex)\r\n  ];\r\n  if (this._chaptersPanel) {\r\n    this._chaptersPanel.currentChapter = currChapter;\r\n  }\r\n};\r\n\r\n@customElement('br-chapters-panel')\r\nexport class BRChaptersPanel extends LitElement {\r\n  /** @type {TocEntry[]} */\r\n  @property({ type: Array })\r\n  contents = [];\r\n\r\n  /** @type {TocEntry?} */\r\n  @property({ type: Object })\r\n  currentChapter = {};\r\n\r\n  /** @type {(pageIndex: PageIndex) => void} */\r\n  jumpToPage = () => {};\r\n\r\n  /**\r\n   * @param {TocEntry[]} contents\r\n   */\r\n  constructor(contents) {\r\n    super();\r\n    this.contents = contents;\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n    <ol>\r\n      ${this.contents.map(tocEntry => this.renderTOCEntry(tocEntry))}\r\n    </ol>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * @param {TocEntry} tocEntry\r\n   */\r\n  renderTOCEntry(tocEntry) {\r\n    const chapterTitle = [tocEntry.label, tocEntry.title]\r\n      .filter(x => x)\r\n      .join(' ');\r\n    const clickable = tocEntry.pageIndex != undefined;\r\n    // note the click-tracking won't work...\r\n    return html`\r\n    <li\r\n      class=\"\r\n        BRtable-contents-el\r\n        ${clickable ? 'clickable' : ''}\r\n        ${tocEntry == this.currentChapter ? 'current' : ''}\r\n      \"\r\n      style=\"${styleMap({marginLeft: (tocEntry.level - 1) * 10 + 'px'})}\"\r\n      data-event-click-tracking=\"${ifDefined(clickable ? \"BRTOCPanel|GoToChapter\" : undefined)}\"\r\n      @click=\"${() => this.jumpToPage(tocEntry.pageIndex)}\"\r\n    >\r\n      ${chapterTitle}\r\n      ${tocEntry.pagenum ? html`\r\n        <br />\r\n        <span class=\"BRTOCElementPage\">Page ${tocEntry.pagenum}</span>\r\n      ` : nothing}\r\n    </li>`;\r\n  }\r\n\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n    this.dispatchEvent(new CustomEvent('connected'));\r\n  }\r\n\r\n  updated(changedProperties) {\r\n    if (changedProperties.has('currentChapter')) {\r\n      this.shadowRoot.querySelector('li.current')?.scrollIntoView({\r\n        block: 'nearest',\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  static get styles() {\r\n    return css`\r\n      ol {\r\n        padding: 0;\r\n        margin: 0;\r\n        margin-right: 5px;\r\n      }\r\n      li {\r\n        padding: 10px;\r\n        overflow: hidden;\r\n        border-radius: 4px;\r\n      }\r\n      li.clickable {\r\n        font-weight: normal;\r\n        cursor: pointer;\r\n        transition: background-color 0.2s;\r\n      }\r\n\r\n      li.clickable:not(.current):hover {\r\n        background-color: rgba(255,255,255, 0.05);\r\n      }\r\n\r\n      li.current {\r\n        background-color: rgba(255,255,255,0.9);\r\n        color: #333;\r\n      }\r\n\r\n      .BRTOCElementPage {\r\n        font-size: 0.85em;\r\n        opacity: .8;\r\n      }`;\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport {nothing} from '../lit-html.js';\n\n/**\n * For AttributeParts, sets the attribute if the value is defined and removes\n * the attribute if the value is undefined.\n *\n * For other part types, this directive is a no-op.\n */\nexport const ifDefined = <T>(value: T) => value ?? nothing;\n"],"names":["IAIconToc","styles","render","customElements","define","super_","_initialize","BRChaptersPanel","_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","jQuery","extend","BookReader","defaultOptions","olHost","enableChaptersPlugin","bookId","init","this","options","ui","_chapterInit","_callee","_this$options$table_o","rawTableOfContents","_olEdition$table_of_c","olEdition","_this","_context","table_of_contents","getOpenLibraryRecord","_tocEntries","map","rawTOCEntry","assign","pageIndex","leaf","book","leafNumToIndex","pagenum","getPageIndex","undefined","_chaptersRender","bind","eventNames","pageChanged","_chaptersUpdateCurrent","_this2","shell","menuProviders","id","icon","html","_templateObject","_taggedTemplateLiteral","label","component","_templateObject2","jumpToIndex","_chaptersPanel","target","addMenuShortcut","updateMenuContents","tocEntry","_chaptersRenderMarker","entryIndex","_this3","chapterStr","title","filter","x","join","concat","percentThrough","util","cssPercentage","getNumLeafs","$","append","text","getPageName","addClass","css","left","appendTo","on","event","marker","currentTarget","tooltip","querySelector","tooltipOffset","getBoundingClientRect","targetOffset","boxSizeAdjust","parseInt","getComputedStyle","paddingLeft","style","setProperty","removeClass","each","el","$el","_ref2","_callee2","ocaid","_data","baseURL","fetchUrlByBookId","data","_context2","ajax","url","dataType","_x","_x2","curIndex","mode","Math","max","displayedIndices","firstIndex","tocEntriesIndexed","currChapter","findIndex","chapter","currentChapter","customElement","LitElement","_LitElement2","contents","_this4","_classCallCheck","_callSuper","_inherits","F","kind","decorators","property","Array","key","_this5","_templateObject3","renderTOCEntry","_this6","chapterTitle","clickable","_templateObject4","styleMap","marginLeft","level","jumpToPage","_templateObject5","nothing","_get","_getPrototypeOf","dispatchEvent","CustomEvent","changedProperties","_this$shadowRoot$quer","has","shadowRoot","scrollIntoView","block","behavior","static","_templateObject6"],"sourceRoot":""}