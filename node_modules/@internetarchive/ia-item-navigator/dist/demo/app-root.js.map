{"version":3,"file":"app-root.js","sourceRoot":"","sources":["../../demo/app-root.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable no-restricted-globals */\nimport { html, css, LitElement, TemplateResult } from 'lit';\nimport { customElement, property, query } from 'lit/decorators.js';\nimport {\n  MetadataResponse,\n  SearchService,\n} from '@internetarchive/search-service';\nimport { SharedResizeObserver } from '@internetarchive/shared-resize-observer';\nimport { ModalManager } from '@internetarchive/modal-manager';\nimport '@internetarchive/modal-manager';\nimport type { ItemNavigator } from '../src/iaux-item-navigator';\nimport '../src/iaux-item-navigator';\nimport '../src/menus/share-panel';\nimport {\n  MenuShortcutInterface,\n  MenuProviderInterface,\n} from '../src/interfaces/menu-interfaces';\nimport { iauxShareIcon } from '../src/menus/share-panel';\nimport { viewableFilesIcon } from '../src/menus/viewable-files';\n\nconst fileList = [\n  {\n    file_origin: '',\n    file_source: 'beyonce-cosmo-article.pdf',\n    file_subprefix: 'beyonce-cosmo-article',\n    orig_sort: 0,\n    title: 'beyonce-cosmo-article.pdf',\n    url_path: '/details/pdf_only_item/beyonce-cosmo-article.pdf',\n  },\n  {\n    file_origin: '',\n    file_source: 'onestrandriverpdf.pdf',\n    file_subprefix: 'onestrandriverpdf',\n    orig_sort: 1,\n    title:\n      'Very cool title that is extra long so it wraps for three rows and close to the right side of the pane',\n    url_path: '/details/pdf_only_item/onestrandriverpdf.pdf',\n  },\n  {\n    url_path: '/details/masterbookofamericanfolksong00shep',\n    file_subprefix: '01-The Master Book of American Folk Song',\n    title: 'The Master Book of American Folk Song',\n    file_source: '/01-The Master Book of American Folk Song_jp2.zip',\n    orig_sort: 0,\n  },\n  {\n    url_path:\n      '/details/masterbookofamericanfolksong00shep/02-Encyclopedia%20of%20the%20Traditional%20Music%20and%20Folk%20Songs%20of%20the%20United%20States%20Index%20A%20through%20M',\n    file_subprefix:\n      '02-Encyclopedia of the Traditional Music and Folk Songs of the United States Index A through M',\n    title:\n      'Encyclopedia of the Traditional Music and Folk Songs of the United States Index A through M',\n    file_source:\n      '/02-Encyclopedia of the Traditional Music and Folk Songs of the United States Index A through M_jp2.zip',\n    orig_sort: 1,\n  },\n  {\n    url_path:\n      '/details/masterbookofamericanfolksong00shep/03-Encyclopedia%20of%20the%20Traditional%20Music%20and%20Folk%20Songs%20of%20the%20United%20States%20Index%20N%20through%20Z',\n    file_subprefix:\n      '03-Encyclopedia of the Traditional Music and Folk Songs of the United States Index N through Z',\n    title:\n      'Encyclopedia of the Traditional Music and Folk Songs of the United States Index N through Z',\n    file_source:\n      '/03-Encyclopedia of the Traditional Music and Folk Songs of the United States Index N through Z_jp2.zip',\n    orig_sort: 2,\n  },\n  {\n    url_path:\n      '/details/masterbookofamericanfolksong00shep/04-Letters%20to%20Riley%20Shepard',\n    file_subprefix: '04-Letters to Riley Shepard',\n    title: 'Letters to Riley Shepard',\n    file_source: '/04-Letters to Riley Shepard_jp2.zip',\n    orig_sort: 3,\n  },\n  {\n    url_path:\n      '/details/masterbookofamericanfolksong00shep/Master%20Book%20of%20American%20Folk%20Song%20Vol.%201',\n    file_subprefix: 'Master Book of American Folk Song Vol. 1',\n    title: 'Master Book of American Folk Song Vol. 1.pdf',\n    file_source: '/Master Book of American Folk Song Vol. 1_jp2.zip',\n    orig_sort: 4,\n  },\n  {\n    url_path:\n      '/details/masterbookofamericanfolksong00shep/Master%20Book%20of%20American%20Folk%20Song%20Vol.%202',\n    file_subprefix: 'Master Book of American Folk Song Vol. 2',\n    title: 'Master Book of American Folk Song Vol. 2.pdf',\n    file_source: '/Master Book of American Folk Song Vol. 2_jp2.zip',\n    orig_sort: 5,\n  },\n  {\n    url_path:\n      '/details/masterbookofamericanfolksong00shep/Master%20Book%20of%20American%20Folk%20Song%20Vol.%203',\n    file_subprefix: 'Master Book of American Folk Song Vol. 3',\n    title: 'Master Book of American Folk Song Vol. 3.pdf',\n    file_source: '/Master Book of American Folk Song Vol. 3_jp2.zip',\n    orig_sort: 6,\n  },\n  {\n    url_path:\n      '/details/masterbookofamericanfolksong00shep/Master%20Book%20of%20American%20Folk%20Song%20Vol.%204',\n    file_subprefix: 'Master Book of American Folk Song Vol. 4',\n    title: 'Master Book of American Folk Song Vol. 4.pdf',\n    file_source: '/Master Book of American Folk Song Vol. 4_jp2.zip',\n    orig_sort: 7,\n  },\n  {\n    url_path:\n      '/details/masterbookofamericanfolksong00shep/Master%20Book%20of%20American%20Folk%20Song%20Vol.%205',\n    file_subprefix: 'Master Book of American Folk Song Vol. 5',\n    title: 'Master Book of American Folk Song Vol. 5',\n    file_source: '/Master Book of American Folk Song Vol. 5_jp2.zip',\n    orig_sort: 8,\n  },\n  {\n    url_path:\n      '/details/masterbookofamericanfolksong00shep/Master%20Book%20of%20American%20Folk%20Song%20Vol.%206',\n    file_subprefix: 'Master Book of American Folk Song Vol. 6',\n    title: 'Master Book of American Folk Song Vol. 6.pdf',\n    file_source: '/Master Book of American Folk Song Vol. 6_jp2.zip',\n    orig_sort: 9,\n  },\n  {\n    url_path:\n      '/details/masterbookofamericanfolksong00shep/Master%20Book%20of%20American%20Folk%20Song%20Vol.%207',\n    file_subprefix: 'Master Book of American Folk Song Vol. 7',\n    title: 'Master Book of American Folk Song Vol. 7.pdf',\n    file_source: '/Master Book of American Folk Song Vol. 7_jp2.zip',\n    orig_sort: 10,\n  },\n  {\n    url_path:\n      '/details/masterbookofamericanfolksong00shep/Master%20Book%20of%20American%20Folk%20Song%20Vol.%208',\n    file_subprefix: 'Master Book of American Folk Song Vol. 8',\n    title: 'Master Book of American Folk Song Vol. 8.pdf',\n    file_source: '/Master Book of American Folk Song Vol. 8_jp2.zip',\n    orig_sort: 11,\n  },\n];\n@customElement('app-root')\nexport class AppRoot extends LitElement {\n  /**\n   * Example controller to connect to `<iaux-item-navigator>`\n   */\n  @property({ type: Object }) itemMD?: MetadataResponse;\n\n  @property({ type: String }) encodedManifest = '';\n\n  @property({ attribute: false }) sharedObserver = new SharedResizeObserver();\n\n  @property({ type: Array, attribute: false })\n  menuContents: MenuProviderInterface[] = [];\n\n  @property({ type: Array, attribute: false })\n  menuShortcuts: MenuShortcutInterface[] = [];\n\n  @property({ reflect: true, attribute: true, type: Boolean }) fullscreen:\n    | boolean\n    | null = null;\n\n  @property({ reflect: true, attribute: true, type: Boolean }) headerOn:\n    | true\n    | null = null;\n\n  @property({ reflect: true, attribute: true, type: Boolean }) loaded:\n    | true\n    | null = null;\n\n  @property({ reflect: true, attribute: true, type: Boolean }) showPlaceholder:\n    | true\n    | null = null;\n\n  @property({ reflect: true, attribute: true, type: Boolean })\n  showTheaterExample: true | null = null;\n\n  @property({ type: Array }) fileListToDisplay: any[] = fileList;\n\n  @query('iaux-item-navigator') private itemNav!: ItemNavigator;\n\n  @query('modal-manager') modalMgr!: ModalManager;\n\n  firstUpdated() {\n    this.fetchItemMD();\n    console.log(\n      '<app-root> component has loaded',\n      this.modalMgr,\n      this.sharedObserver,\n    );\n\n    this.itemNav.viewAvailable = false;\n  }\n\n  updated(changed: any) {\n    console.log('changed', changed);\n    if (changed.has('itemMD')) {\n      this.fullscreenCheck();\n    }\n\n    if (changed.has('fileList')) {\n      this.drawMenus();\n    }\n  }\n\n  async fetchItemMD() {\n    const searchService = SearchService.default;\n\n    // masterbookofamericanfolksong00shep => multiple files\n    // ux-team-books => item\n    const mdResponse = await searchService.fetchMetadata(\n      'masterbookofamericanfolksong00shep',\n    );\n\n    if (mdResponse.error) {\n      console.log('MD Fetch error: ', mdResponse.error);\n      (window as any).confirm(\n        'There was an error fetching response, please check dev console',\n      );\n      return;\n    }\n\n    console.log('mdResponse.success', JSON.stringify(mdResponse.success));\n    this.itemMD = mdResponse.success;\n    this.toggleTheaterExample();\n  }\n\n  get theaterReady(): boolean {\n    return this.modalMgr && this.sharedObserver && !!this.itemMD;\n  }\n\n  get urlParams(): URLSearchParams {\n    return new URLSearchParams(location.search.slice(1));\n  }\n\n  /** Fullscreen */\n  get showFullscreen(): boolean {\n    return this.urlParams.get('view') === 'theater';\n  }\n\n  /** sets url query param `view=theater` to toggle fullscreen */\n  toggleFS(): void {\n    if (this.urlParams.get('view')) {\n      location.search = '';\n    } else {\n      location.search = 'view=theater';\n    }\n  }\n\n  /** toggles attr: `<iaux-item-navigator viewportinfullscreen>` */\n  fullscreenCheck(): void {\n    if (this.showFullscreen && this.itemNav) {\n      this.fullscreen = true;\n    }\n  }\n  /** End fullscreen */\n\n  toggleHeader() {\n    this.headerOn = this.headerOn ? null : true;\n  }\n\n  toggleLoader() {\n    const nextState = this.loaded === true ? null : true;\n    this.loaded = nextState;\n  }\n\n  togglePlaceholder() {\n    this.toggleLoader();\n    const show = this.showPlaceholder ? null : true;\n    this.showPlaceholder = show;\n  }\n\n  toggleImmersion() {\n    const nextState = this.fullscreen ? null : true;\n    if (!nextState) {\n      this.menuShortcuts = [];\n      return;\n    }\n    this.menuShortcuts = [\n      {\n        icon: html`<button\n          @click=${() => {\n            this.fullscreen = null;\n            this.menuContents = [];\n            this.menuShortcuts = [];\n          }}\n        >\n          Exit\n        </button>`,\n        id: 'exit',\n      },\n    ];\n    this.menuContents = [\n      {\n        icon: html`<button\n          @click=${() => {\n            this.fullscreen = null;\n          }}\n        >\n          Exit\n        </button>`,\n        id: 'exit',\n        label: 'Exit',\n        selected: false,\n      },\n    ] as any as MenuProviderInterface[];\n\n    this.fullscreen = nextState;\n  }\n\n  toggleTheaterExample() {\n    if (this.showTheaterExample) {\n      // turn on placeholder\n      this.showPlaceholder = true;\n      // turn off example\n      this.showTheaterExample = null;\n\n      this.menuContents = [];\n      this.menuShortcuts = [];\n      return;\n    }\n\n    // turn off placeholder\n    this.showPlaceholder = null;\n    this.showTheaterExample = true;\n    this.drawMenus();\n  }\n\n  drawMenus() {\n    const shareMenu = {\n      icon: iauxShareIcon,\n      label: 'Share this item',\n      id: 'share',\n      component: html`<iaux-in-share-panel\n        .identifier=${this.itemMD?.metadata.identifier || 'ux-team-books'}\n        .type=${`book`}\n        .creator=${`UX Team`}\n        .description=${'list of test books'}\n        .baseHost=${'archive.org'}\n        .fileSubPrefix=${''}\n      ></iaux-in-share-panel>`,\n    } as unknown as MenuProviderInterface;\n\n    const filesNewArr = [...fileList];\n    const viewableFilesMenu = {\n      id: 'viewable-files',\n      icon: viewableFilesIcon,\n      label: `Viewable Files (${fileList.length})`,\n      baseHost: 'archive.org',\n      item: this.itemMD as MetadataResponse,\n      subPrefix: '',\n      // sorter\n      actionButton: html`<iaux-in-sort-files-button\n        @fileListSorted=${(e: CustomEvent) => this.sortFilesCallback(e)}\n        .fileListRaw=${fileList}\n      ></iaux-in-sort-files-button>`,\n      component: html`<iaux-in-viewable-files-panel\n        .subPrefix=${'onestrandriverpdf'}\n        .fileList=${filesNewArr}\n      ></iaux-in-viewable-files-panel> `,\n    };\n\n    this.menuContents = [viewableFilesMenu, shareMenu];\n    this.menuShortcuts = [viewableFilesMenu, shareMenu];\n  }\n\n  async sortFilesCallback(e: CustomEvent) {\n    const { sortType, sortedFiles } = e.detail;\n    this.fileListToDisplay = sortedFiles;\n    console.log('fileListSorted', { sortType, sortedFiles });\n    await this.updateComplete;\n    console.log('fileListSortedasyncd', { sortType, sortedFiles });\n    this.drawMenus();\n    // debugger;\n  }\n\n  /** Views */\n  get theaterExample(): TemplateResult {\n    return html`\n      <div slot=\"main\">\n        <div class=\"theater-example\">\n          <img\n            alt=\"cat theater\"\n            src=\"https://archive.org/download/masterbookofamericanfolksong00shep/__ia_thumb.jpg\"\n          />\n          <h3>Welcome to Cat Theater</h3>\n        </div>\n      </div>\n    `;\n  }\n\n  get headerExample(): TemplateResult {\n    return html`\n      <div slot=\"header\">\n        <div class=\"embed-link\">\n          <img\n            src=\"https://archive.org/images/glogo-jw.png\"\n            alt=\"glowing ia logo\"\n          />\n          <a href=\"/details/goody\">\n            The history of Little Goody Two-Shoes : otherwise called Mrs.\n            Margery Two-Shoes ... [1766 edition]\n          </a>\n        </div>\n      </div>\n    `;\n  }\n\n  get isViewAvailable(): boolean {\n    if (this.showTheaterExample) {\n      return true;\n    }\n    return false;\n  }\n\n  render(): TemplateResult {\n    const {\n      isViewAvailable,\n      loaded,\n      showPlaceholder,\n      headerOn,\n      fullscreen,\n      menuContents,\n      menuShortcuts,\n      showTheaterExample,\n    } = this;\n    console.log('&&&& item nav properties', {\n      loaded,\n      headerOn,\n      isViewAvailable,\n      showTheaterExample,\n      showPlaceholder,\n      fullscreen,\n      menuContents,\n      menuShortcuts,\n    });\n    return html`\n      <h1>theater, in page</h1>\n      <section>\n        <iaux-item-navigator\n          baseHost=\"archive.org\"\n          .item=${this.itemMD}\n          .modal=${this.modalMgr}\n          .sharedObserver=${this.sharedObserver}\n          .loaded=${this.loaded}\n          ?viewAvailable=${!!this.showTheaterExample}\n          .menuContents=${this.menuContents}\n          .menuShortcuts=${this.menuShortcuts}\n          .viewportInFullscreen=${this.fullscreen}\n        >\n          ${this.headerOn ? this.headerExample : ''}\n          ${this.showTheaterExample ? this.theaterExample : ''}\n        </iaux-item-navigator>\n      </section>\n      <div>\n        <button @click=${this.toggleHeader}>toggle header</button>\n        <button @click=${this.toggleLoader}>toggle loader</button>\n        <button @click=${this.togglePlaceholder}>toggle placeholder</button>\n        <button @click=${this.toggleTheaterExample}>toggle new theater</button>\n        <button @click=${this.toggleImmersion}>toggle immersion</button>\n      </div>\n      <modal-manager></modal-manager>\n    `;\n  }\n\n  static styles = css`\n    :host([fullscreen]),\n    :host([fullscreen]) section {\n      height: 100vh;\n      width: 100vw;\n    }\n\n    :host([fullscreen]) h1 {\n      display: none;\n    }\n\n    h1 {\n      color: black;\n    }\n\n    section {\n      border: 1px solid pink;\n      color: #222;\n      height: calc(100vh - 200px);\n    }\n\n    :host,\n    iaux-item-navigator {\n      display: block;\n      position: relative;\n      width: 100%;\n      height: 100%;\n    }\n\n    .embed-link {\n      height: 55px;\n      border: 1px solid yellow;\n    }\n\n    .theater-example {\n      color: white;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-direction: column;\n      margin: 10px;\n      border: 5px dotted yellow;\n      flex: 1;\n    }\n\n    div[slot='main'] {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    div[slot='main'] > * {\n      flex: 1;\n    }\n\n    modal-manager[mode='closed'] {\n      display: none;\n    }\n  `;\n}\n"]}