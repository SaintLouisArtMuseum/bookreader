{"version":3,"file":"share-provider.js","sourceRoot":"","sources":["../../../src/item-inspector/share-provider.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAkB,MAAM,aAAa,CAAC;AAEnD,OAAO,qCAAqC,CAAC;AAC7C,OAAO,wCAAwC,CAAC;AAMhD,MAAM,OAAO,aAAa;IAmBxB,YAAY,SAA0B;QAlBtC,SAAI,GAAQ,IAAI,CAAC;QAEjB,aAAQ,GAAW,qBAAqB,CAAC;QAEzC,SAAI,GAAmB,IAAI,CAAA;;oBAET,CAAC;QAEnB,OAAE,GAAW,OAAO,CAAC;QAErB,UAAK,GAAW,iBAAiB,CAAC;QAElC,cAAS,GAA0B,IAAI,CAAC;QAExC,cAAS,GAAW,EAAE,CAAC;QAEvB,qBAAgB,GAAW,EAAE,CAAC;QAG5B,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,GAAG,EAAE,EAAE,GAAG,SAAS,CAAC;QACrD,MAAM,EAAE,UAAU,GAAG,EAAE,EAAE,OAAO,GAAG,EAAE,EAAE,KAAK,GAAG,EAAE,EAAE,GAAG,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAC;QAC1E,MAAM,gBAAgB,GAAG,kBAAkB,CAAC,SAAS,CAAC,CAAC;QACvD,MAAM,aAAa,GACjB,SAAS,IAAI,SAAS,KAAK,UAAU;YACnC,CAAC,CAAC,GAAG,UAAU,IAAI,gBAAgB,EAAE;YACrC,CAAC,CAAC,UAAU,CAAC;QAEjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QAEzC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAA;mBACN,aAAa;;iBAEf,OAAO;qBACH,KAAK;kBACR,IAAI,CAAC,QAAQ;2BACJ,CAAC;IAC1B,CAAC;CACF","sourcesContent":["import { html, TemplateResult } from 'lit-element';\n\nimport '@internetarchive/ia-sharing-options';\nimport '@internetarchive/icon-share/icon-share';\nimport {\n  IntMenuProvider,\n  IntProviderArgs,\n} from '../interfaces/menu-interfaces';\n\nexport class ShareProvider implements IntMenuProvider {\n  item: any = null;\n\n  baseHost: string = 'https://archive.org';\n\n  icon: TemplateResult = html`<ia-icon-share\n    style=\"width: var(--iconWidth); height: var(--iconHeight);\"\n  ></ia-icon-share>`;\n\n  id: string = 'share';\n\n  label: string = 'Share this item';\n\n  component: TemplateResult | null = null;\n\n  subPrefix: string = '';\n\n  encodedSubPrefix: string = '';\n\n  constructor(shareArgs: IntProviderArgs) {\n    const { item, baseHost, subPrefix = '' } = shareArgs;\n    const { identifier = '', creator = '', title = '' } = item.metadata || {};\n    const encodedSubPrefix = encodeURIComponent(subPrefix);\n    const urlIdentifier =\n      subPrefix && subPrefix !== identifier\n        ? `${identifier}/${encodedSubPrefix}`\n        : identifier;\n\n    this.item = item;\n    this.baseHost = baseHost;\n    this.subPrefix = subPrefix;\n    this.encodedSubPrefix = encodedSubPrefix;\n\n    this.component = html`<ia-sharing-options\n      identifier=${urlIdentifier}\n      type=\"item\"\n      creator=\"${creator}\"\n      description=\"${title}\"\n      baseHost=\"${this.baseHost}\"\n    ></ia-sharing-options>`;\n  }\n}\n"]}